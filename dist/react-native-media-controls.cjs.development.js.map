{"version":3,"file":"react-native-media-controls.cjs.development.js","sources":["../src/MediaControls.style.ts","../src/constants/playerStates.ts","../src/utils.ts","../src/Controls.tsx","../src/Slider.tsx","../src/Toolbar.tsx","../src/MediaControls.tsx"],"sourcesContent":["import { StyleSheet } from \"react-native\";\n\nconst containerBackgroundColor = \"rgba(45, 59, 62, 0.4)\";\nconst playButtonBorderColor = \"rgba(255,255,255,0.5)\";\nconst white = \"#fff\";\n\nexport default StyleSheet.create({\n  container: {\n    alignItems: \"center\",\n    backgroundColor: containerBackgroundColor,\n    bottom: 0,\n    flex: 1,\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    left: 0,\n    paddingHorizontal: 20,\n    paddingVertical: 13,\n    position: \"absolute\",\n    right: 0,\n    top: 0,\n  },\n  controlsRow: {\n    alignItems: \"center\",\n    alignSelf: \"stretch\",\n    flex: 1,\n    justifyContent: \"center\",\n  },\n  fullScreenContainer: {\n    alignItems: \"center\",\n    alignSelf: \"stretch\",\n    justifyContent: \"center\",\n    paddingLeft: 20,\n  },\n  playButton: {\n    alignItems: \"center\",\n    borderColor: playButtonBorderColor,\n    borderRadius: 3,\n    borderWidth: 1.5,\n    height: 50,\n    justifyContent: \"center\",\n    width: 50,\n  },\n  playIcon: {\n    height: 22,\n    resizeMode: \"contain\",\n    width: 22,\n  },\n  progressColumnContainer: {\n    flex: 1,\n  },\n  progressContainer: {\n    flexDirection: \"row\",\n    justifyContent: \"flex-end\",\n    marginBottom: -25,\n  },\n  progressSlider: {\n    alignSelf: \"stretch\",\n  },\n  replayIcon: {\n    height: 20,\n    resizeMode: \"stretch\",\n    width: 25,\n  },\n  thumb: {\n    backgroundColor: white,\n    borderRadius: 50,\n    borderWidth: 3,\n    height: 20,\n    width: 20,\n  },\n  timeRow: {\n    alignSelf: \"stretch\",\n  },\n  timerLabel: {\n    color: white,\n    fontSize: 12,\n  },\n  timerLabelsContainer: {\n    alignSelf: \"stretch\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    marginBottom: -7,\n  },\n  toolbar: {\n    flexDirection: \"row\",\n    flex: 1,\n    justifyContent: \"flex-end\",\n  },\n  toolbarRow: {\n    alignItems: \"flex-start\",\n    flexDirection: \"row\",\n    justifyContent: \"flex-start\",\n  },\n  track: {\n    borderRadius: 1,\n    height: 5,\n  },\n});\n","enum PLAYER_STATES {\n  PLAYING = 0,\n  PAUSED = 1,\n  ENDED = 2,\n}\n\nexport { PLAYER_STATES };\n","import { PLAYER_STATES } from \"./constants/playerStates\";\n\nexport const humanizeVideoDuration = (seconds: number) => {\n  const [begin, end] = seconds >= 3600 ? [11, 8] : [14, 5];\n  const date = new Date(0);\n\n  date.setSeconds(seconds);\n  return date.toISOString().substr(begin, end);\n};\n\nexport const noop = () => {};\n\nexport const getPlayerStateIcon = (playerState: PLAYER_STATES) => {\n  switch (playerState) {\n    case PLAYER_STATES.PAUSED:\n      return require(\"./assets/ic_play.png\");\n    case PLAYER_STATES.PLAYING:\n      return require(\"./assets/ic_pause.png\");\n    case PLAYER_STATES.ENDED:\n      return require(\"./assets/ic_replay.png\");\n    default:\n      return null;\n  }\n};\n","import React from \"react\";\nimport { TouchableOpacity, View, ActivityIndicator, Image } from \"react-native\";\nimport styles from \"./MediaControls.style\";\nimport { getPlayerStateIcon } from \"./utils\";\nimport { Props } from \"./MediaControls\";\nimport { PLAYER_STATES } from \"./constants/playerStates\";\n\ntype ControlsProps = Pick<\n  Props,\n  \"isLoading\" | \"mainColor\" | \"playerState\" | \"onReplay\"\n> & {\n  onPause: () => void;\n};\n\nconst Controls = (props: ControlsProps) => {\n  const { isLoading, mainColor, playerState, onReplay, onPause } = props;\n  const icon = getPlayerStateIcon(playerState);\n  const pressAction = playerState === PLAYER_STATES.ENDED ? onReplay : onPause;\n\n  const content = isLoading ? (\n    <ActivityIndicator size=\"large\" color=\"#FFF\" />\n  ) : (\n    <TouchableOpacity\n      style={[styles.playButton, { backgroundColor: mainColor }]}\n      onPress={pressAction}\n      accessibilityLabel={PLAYER_STATES.PAUSED ? \"Tap to Play\" : \"Tap to Pause\"}\n      accessibilityHint={\"Plays and Pauses the Video\"}\n    >\n      <Image source={icon} style={styles.playIcon} />\n    </TouchableOpacity>\n  );\n\n  return <View style={[styles.controlsRow]}>{content}</View>;\n};\n\nexport { Controls };\n","import React from \"react\";\nimport { TouchableOpacity, View, Text, Image, ViewStyle } from \"react-native\";\nimport RNSlider from \"react-native-slider\";\nimport styles from \"./MediaControls.style\";\nimport { humanizeVideoDuration } from \"./utils\";\nimport { Props as MediaControlsProps } from \"./MediaControls\";\nimport { PLAYER_STATES } from \"./constants/playerStates\";\n\nexport type CustomSliderStyle = {\n  containerStyle: ViewStyle;\n  trackStyle: ViewStyle;\n  thumbStyle: ViewStyle;\n};\n\ntype Props = Pick<\n  MediaControlsProps,\n  | \"progress\"\n  | \"duration\"\n  | \"mainColor\"\n  | \"onFullScreen\"\n  | \"playerState\"\n  | \"onSeek\"\n  | \"onSeeking\"\n> & {\n  onPause: () => void;\n  customSliderStyle?: CustomSliderStyle;\n};\n\nconst fullScreenImage = require(\"./assets/ic_fullscreen.png\");\n\nconst Slider = (props: Props) => {\n  const {\n    customSliderStyle,\n    duration,\n    mainColor,\n    onFullScreen,\n    onPause,\n    progress,\n  } = props;\n\n  const containerStyle = customSliderStyle?.containerStyle || {};\n  const customTrackStyle = customSliderStyle?.trackStyle || {};\n  const customThumbStyle = customSliderStyle?.thumbStyle || {};\n\n  const dragging = (value: number) => {\n    const { onSeeking, playerState } = props;\n    onSeeking(value);\n\n    if (playerState === PLAYER_STATES.PAUSED) {\n      return;\n    }\n\n    onPause();\n  };\n\n  const seekVideo = (value: number) => {\n    props.onSeek(value);\n    onPause();\n  };\n\n  return (\n    <View\n      style={[styles.controlsRow, styles.progressContainer, containerStyle]}\n    >\n      <View style={styles.progressColumnContainer}>\n        <View style={[styles.timerLabelsContainer]}>\n          <Text style={styles.timerLabel}>\n            {humanizeVideoDuration(progress)}\n          </Text>\n          <Text style={styles.timerLabel}>\n            {humanizeVideoDuration(duration)}\n          </Text>\n        </View>\n        <RNSlider\n          style={[styles.progressSlider]}\n          onValueChange={dragging}\n          onSlidingComplete={seekVideo}\n          maximumValue={Math.floor(duration)}\n          value={Math.floor(progress)}\n          trackStyle={[styles.track, customTrackStyle]}\n          thumbStyle={[\n            styles.thumb,\n            customThumbStyle,\n            { borderColor: mainColor },\n          ]}\n          minimumTrackTintColor={mainColor}\n        />\n      </View>\n      {Boolean(onFullScreen) && (\n        <TouchableOpacity\n          style={styles.fullScreenContainer}\n          onPress={onFullScreen}\n        >\n          <Image source={fullScreenImage} />\n        </TouchableOpacity>\n      )}\n    </View>\n  );\n};\n\nexport { Slider };\n","import React from \"react\";\n\ntype Props = {\n  children: React.ReactNode;\n};\n\nconst Toolbar = ({ children }: Props) => <>{children}</>;\n\nexport { Toolbar };\n","import React, { useState, useEffect } from \"react\";\nimport {\n  View,\n  Animated,\n  TouchableWithoutFeedback,\n  GestureResponderEvent,\n  ViewStyle,\n} from \"react-native\";\nimport styles from \"./MediaControls.style\";\nimport { PLAYER_STATES } from \"./constants/playerStates\";\nimport { Controls } from \"./Controls\";\nimport { Slider, CustomSliderStyle } from \"./Slider\";\nimport { Toolbar } from \"./Toolbar\";\n\nexport type Props = {\n  children: React.ReactNode;\n  containerStyle: ViewStyle;\n  duration: number;\n  fadeOutDelay?: number;\n  isFullScreen: boolean;\n  isLoading: boolean;\n  mainColor: string;\n  onFullScreen?: (event: GestureResponderEvent) => void;\n  onPaused: (playerState: PLAYER_STATES) => void;\n  onReplay: () => void;\n  onSeek: (value: number) => void;\n  onSeeking: (value: number) => void;\n  playerState: PLAYER_STATES;\n  progress: number;\n  showOnStart?: boolean;\n  sliderStyle?: CustomSliderStyle;\n  toolbarStyle?: ViewStyle;\n};\n\nconst MediaControls = (props: Props) => {\n  const {\n    children,\n    containerStyle: customContainerStyle = {},\n    duration,\n    fadeOutDelay = 5000,\n    isLoading = false,\n    mainColor = \"rgba(12, 83, 175, 0.9)\",\n    onFullScreen,\n    onReplay: onReplayCallback,\n    onSeek,\n    onSeeking,\n    playerState,\n    progress,\n    showOnStart = true,\n    sliderStyle, // defaults are applied in Slider.tsx\n    toolbarStyle: customToolbarStyle = {},\n  } = props;\n  const { initialOpacity, initialIsVisible } = (() => {\n    if (showOnStart) {\n      return {\n        initialOpacity: 1,\n        initialIsVisible: true,\n      };\n    }\n\n    return {\n      initialOpacity: 0,\n      initialIsVisible: false,\n    };\n  })();\n\n  const [opacity] = useState(new Animated.Value(initialOpacity));\n  const [isVisible, setIsVisible] = useState(initialIsVisible);\n\n  useEffect(() => {\n    fadeOutControls(fadeOutDelay);\n  }, []);\n\n  const fadeOutControls = (delay = 0) => {\n    Animated.timing(opacity, {\n      toValue: 0,\n      duration: 300,\n      delay,\n      useNativeDriver: false,\n    }).start(result => {\n      /* I noticed that the callback is called twice, when it is invoked and when it completely finished\n      This prevents some flickering */\n      if (result.finished) {\n        setIsVisible(false);\n      }\n    });\n  };\n\n  const fadeInControls = (loop = true) => {\n    setIsVisible(true);\n    Animated.timing(opacity, {\n      toValue: 1,\n      duration: 300,\n      delay: 0,\n      useNativeDriver: false,\n    }).start(() => {\n      if (loop) {\n        fadeOutControls(fadeOutDelay);\n      }\n    });\n  };\n\n  const onReplay = () => {\n    fadeOutControls(fadeOutDelay);\n    onReplayCallback();\n  };\n\n  const cancelAnimation = () => opacity.stopAnimation(() => setIsVisible(true));\n\n  const onPause = () => {\n    const { playerState, onPaused } = props;\n    const { PLAYING, PAUSED, ENDED } = PLAYER_STATES;\n    switch (playerState) {\n      case PLAYING: {\n        cancelAnimation();\n        break;\n      }\n      case PAUSED: {\n        fadeOutControls(fadeOutDelay);\n        break;\n      }\n      case ENDED:\n        break;\n    }\n\n    const newPlayerState = playerState === PLAYING ? PAUSED : PLAYING;\n    return onPaused(newPlayerState);\n  };\n\n  const toggleControls = () => {\n    // value is the last value of the animation when stop animation was called.\n    // As this is an opacity effect, I (Charlie) used the value (0 or 1) as a boolean\n    opacity.stopAnimation((value: number) => {\n      setIsVisible(!!value);\n      return value ? fadeOutControls() : fadeInControls();\n    });\n  };\n\n  return (\n    <TouchableWithoutFeedback accessible={false} onPress={toggleControls}>\n      <Animated.View\n        style={[styles.container, customContainerStyle, { opacity }]}\n      >\n        {isVisible && (\n          <View style={[styles.container, customContainerStyle]}>\n            <View\n              style={[\n                styles.controlsRow,\n                styles.toolbarRow,\n                customToolbarStyle,\n              ]}\n            >\n              {children}\n            </View>\n            <Controls\n              onPause={onPause}\n              onReplay={onReplay}\n              isLoading={isLoading}\n              mainColor={mainColor}\n              playerState={playerState}\n            />\n            <Slider\n              progress={progress}\n              duration={duration}\n              mainColor={mainColor}\n              onFullScreen={onFullScreen}\n              playerState={playerState}\n              onSeek={onSeek}\n              onSeeking={onSeeking}\n              onPause={onPause}\n              customSliderStyle={sliderStyle}\n            />\n          </View>\n        )}\n      </Animated.View>\n    </TouchableWithoutFeedback>\n  );\n};\n\nMediaControls.Toolbar = Toolbar;\n\nexport default MediaControls;\n"],"names":["containerBackgroundColor","playButtonBorderColor","white","StyleSheet","create","container","alignItems","backgroundColor","bottom","flex","flexDirection","justifyContent","left","paddingHorizontal","paddingVertical","position","right","top","controlsRow","alignSelf","fullScreenContainer","paddingLeft","playButton","borderColor","borderRadius","borderWidth","height","width","playIcon","resizeMode","progressColumnContainer","progressContainer","marginBottom","progressSlider","replayIcon","thumb","timeRow","timerLabel","color","fontSize","timerLabelsContainer","toolbar","toolbarRow","track","PLAYER_STATES","humanizeVideoDuration","seconds","begin","_ref","end","date","Date","setSeconds","toISOString","substr","getPlayerStateIcon","playerState","PAUSED","require","PLAYING","ENDED","Controls","props","isLoading","mainColor","onReplay","onPause","icon","pressAction","content","React","ActivityIndicator","size","TouchableOpacity","style","styles","onPress","accessibilityLabel","accessibilityHint","Image","source","View","fullScreenImage","Slider","customSliderStyle","duration","onFullScreen","progress","containerStyle","customTrackStyle","trackStyle","customThumbStyle","thumbStyle","dragging","value","onSeeking","seekVideo","onSeek","Text","RNSlider","onValueChange","onSlidingComplete","maximumValue","Math","floor","minimumTrackTintColor","Boolean","Toolbar","children","MediaControls","_props$containerStyle","customContainerStyle","_props$fadeOutDelay","fadeOutDelay","_props$isLoading","_props$mainColor","onReplayCallback","_props$showOnStart","showOnStart","sliderStyle","_props$toolbarStyle","toolbarStyle","customToolbarStyle","initialOpacity","initialIsVisible","_useState","useState","Animated","Value","opacity","_useState2","isVisible","setIsVisible","useEffect","fadeOutControls","delay","timing","toValue","useNativeDriver","start","result","finished","fadeInControls","loop","cancelAnimation","stopAnimation","onPaused","newPlayerState","toggleControls","TouchableWithoutFeedback","accessible"],"mappings":"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"}